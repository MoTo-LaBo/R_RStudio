---
title: "記述統計"
output:
  html_notebook: default
  pdf_document: default
---
#### descriptive statistics


#### 度数分布表
- 度数分布表とは?

  - data を **階級** に分けて階級ごとの **度数** を数えた表

#### histogram
- 度数分布表から縦軸に **度数** 横軸に **階級** をとり **グラフ化** したもの

  - 集団の特徴を定義付けていく

```{r}
height =
  rnorm(100, 167, 5)
y = hist(height)
y
```

### 基本統計量
　分布の基本的な特性を数値で表した指標

***
  - **代表値** (分布の中心を表す指標)
    - *平均* : (算術平均, 幾何平均, 調和平均, 加重平均)
    - *中央値(メジアン)*
    - *最頻値(モード)*

***
  - **散布度** (分布のばらつきを表す指標)
    - *範囲(レンジ)*
    - *四分位範囲*
    - *平均偏差*
    - **分散**
    - **標準偏差**
    - *変動係数*
    - *標準化得点*

***
### 算術平均
　中心を表す指標

***

- 全ての data を足して個数で割った値　=　**平均**　=　$\mu$
  
  - **長所**
    - 一般的, 計算が簡単, 数値の意味の理解のし易さ
    
  - **短所**
    - 外れ値の影響を受けやすい, 分布の形状に依存する

```{r}
h = as.integer(height)
hist(h)
mean(h)
median(h)
```
- **平均** : `r mean(h)` cm　|　**中央値** : `r median(h)` cm

  - 解析する histograme の形を考慮して `mean( )`, `median( )` を使い分けていく

***
- **summary( )** : 一度に様々な数値を取得できる
  
  - Min : 最小　|　1st : 25%　|　Median : 中央値　|　Mean : 平均　|　3rd : 75%　|　Max : 最大値
```{r}
summary(h)
```
### 分散・標準偏差
　ばらつきを表す指標

***

- 平均との差の二乗平均を求めた値　**分散**($\sigma^2$)　その平方根　**標準偏差**($\sigma$)
  
  - **長所**
    - バラつきの数値で最も一般的, 理論的に扱いやすい
    
  - **短所**
    - 分散は単位が分かりづらい

```{r}
hist(h)
var(h)
sd(h)
```
- **分散** : `r var(h)`　|　**標準偏差** : `r sd(h)`
  
  - ※ R言語の分散は **不偏分散** なので注意!

***

### 標準化
　data の　**平均値を 0 , 分散を 1**　に変換する操作

$$
\frac{X - \mu}{\sigma}
$$
$$
標準化 = \frac{値 - 平均}{標準偏差}
$$
<center>
（それぞれの値　-　平均）　÷　標準偏差　=　標準化
<br>
↓
<br>
<h4>標準化により異なる集団も全て　<b>標準得点</b>　で比較できる</h4>
<br>
||
<br>
<br>
scale を合わせて比較することが出来る
</center>
```{r}
x
head(scale(h))
var(scale(h))
mean(scale(h))
```

- **標準化** : scale( )

  - 標準化後の **分散** : `r var(scale(h))`
  
  - 標準化後の **平均** : `r mean(scale(h))`

***

### 正規分布
　左右対称つり鐘型をした　**確率分布**　多くの現象がこの分布に従う
　  
　  → 身長, 植物の大きさ, testの点数, 工業製品の誤差 etc...

- **確率分布**

  - グラフの　**面積が確率**　なるようなグラフ
    
    - 全部足すと **1** になる =　**確率 100%**
    
    - `平均値`　と　`標準偏差`　で形が決まる
    
    - *数学的に一意に決まるグラフ*

```{r}
hist(h, breaks = seq(150, 180, 1))
m <- mean(h)
s <- sd(h)
x1 <- seq(150, 180, 0.01)
d = dnorm(x1, mean = m, sd = s)
plot(x1, d, type = "l")
```
- **平均** : `r mean(h)` cm　|　**標準偏差** : `r sd(h)`

***

### 正規分布から分かること
　分布のある範囲に　**どれだけのdataが含まれているか**　が分かる
　
<center>
<br>
面積が分かるという事は
<br>
||
<br>
<h5><u>その範囲に入る <b>dataの確率</b> が分かる</u></h5>
<br>
</center>

```{r}
sc <- 850
m1 <- 582.6
s1 <- 172.7
n <- as.integer(103955)
Z = (X1 - m1)/s1
```

**自分の得点** : $X$ = `r sc`　|　**平均点** $\mu$ : `r m1`　|　**標準偏差** $\sigma$ : `r s1`　|　**標準化** : `r Z`　|　**総数(人)** : `r n`


#### 標準化
$$
Z = \frac{得点 - 平均値}{標準偏差}
$$

#### 公式
$$
Z = \frac{X - \mu}{\sigma} = \frac{850 - 582.6}{172.7} \simeq 1.55
$$

#### 正規分布の面積を求める
- Rの場合 pnorm( )では,　**無限大の -** (マイナス)方向から　**1.55**　までを求める

  - なので　**- 0.5**　で <font color = "red">0 から ー 方向の面積を引く</font>
```{r}
d = pnorm(Z, mean = 0, sd = 1)
d
d2 = pnorm(Z, mean = 0, sd = 1) - 0.5
d2
N = 1 - d
N
N1 = as.integer(n*(1 - d)*100)
N1
```
- **無限大の -** (マイナス)方向から　**1.55**　までの面積 : `r d`

- **- 0.5**　で <font color = "red">0 から ー 方向の面積を引く</font> : `r d2`

- **上位の面積** :　`r N`　|　**上位からの順位** : `r N1`